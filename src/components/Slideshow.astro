
---
const images = ['/slide1.jpg', '/slide2.jpg', '/slide3.jpg'];
---

<div class="w-full">
  <div class="relative overflow-hidden">
    <img
      id="slideImage"
      src={images[0]}
      alt="Slideshow Image"
      class="w-full h-auto transition-opacity duration-500"
    />
  </div>
  <div class="flex justify-center mt-4 space-x-4">
    <button
      id="prevButton"
      class="px-4 py-2 bg-gray-200 rounded hover:bg-gray-300"
    >
      ⏮️
    </button>
    <button
      id="nextButton"
      class="px-4 py-2 bg-gray-200 rounded hover:bg-gray-300"
    >
      ⏭️
    </button>
  </div>
</div>

<script >
  const images = ['/slide1.jpg', '/slide2.jpg', '/slide3.jpg'];
  let currentImageIndex = 0;
  const slideImage = document.getElementById('slideImage') as HTMLImageElement;
  const prevButton = document.getElementById('prevButton') as HTMLButtonElement;
  const nextButton = document.getElementById('nextButton') as HTMLButtonElement;

  const updateImage = () => {
    if (slideImage) {
        slideImage.style.opacity = '0';
        setTimeout(() => {
          slideImage.src = images[currentImageIndex];
          slideImage.style.opacity = '1';
        }, 100); 
      }
  };

  if (prevButton && nextButton) {
      prevButton.addEventListener('click', () => {
        currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
        updateImage();
      });

      nextButton.addEventListener('click', () => {
        currentImageIndex = (currentImageIndex + 1) % images.length;
        updateImage();
      });
  }
</script>